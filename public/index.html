<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberQuiz FATEC - Multiplayer</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-red: #ff0040;
            --neon-red-glow: rgba(255, 0, 64, 0.5);
            --neon-pink: #ff0080;
            --neon-cyan: #00ffff;
            --neon-green: #00ff80;
            --dark-bg: #0a0a0a;
            --darker-bg: #050505;
            --card-bg: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --text-muted: #888888;
            --border-glow: rgba(255, 0, 64, 0.3);
        }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: var(--dark-bg);
            background-image: 
                radial-gradient(circle at 25% 25%, var(--neon-red-glow) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(255, 0, 128, 0.3) 0%, transparent 50%),
                linear-gradient(135deg, var(--darker-bg) 0%, var(--dark-bg) 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-primary);
            overflow-x: hidden;
        }

        .container {
            background: var(--card-bg);
            border: 2px solid var(--neon-red);
            border-radius: 20px;
            box-shadow: 
                0 0 30px var(--neon-red-glow),
                inset 0 0 30px rgba(255, 0, 64, 0.1);
            padding: 2rem;
            width: 90%;
            max-width: 900px;
            position: relative;
            backdrop-filter: blur(10px);
            animation: containerGlow 3s ease-in-out infinite alternate;
        }

        @keyframes containerGlow {
            from {
                box-shadow: 0 0 30px var(--neon-red-glow), inset 0 0 30px rgba(255, 0, 64, 0.1);
            }
            to {
                box-shadow: 0 0 50px var(--neon-red-glow), inset 0 0 50px rgba(255, 0, 64, 0.15);
            }
        }

        .connection-indicator {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .connection-indicator.connected {
            background: linear-gradient(90deg, var(--neon-green), #00cc66);
            box-shadow: 0 0 10px var(--neon-green);
        }

        .connection-indicator.disconnected {
            background: linear-gradient(90deg, #ff4040, #cc0000);
            box-shadow: 0 0 10px #ff4040;
            animation: disconnectedPulse 1s ease-in-out infinite alternate;
        }

        .connection-indicator.connecting {
            background: linear-gradient(90deg, #ffaa00, #ff6600);
            box-shadow: 0 0 10px #ffaa00;
            animation: connectingPulse 0.8s ease-in-out infinite;
        }

        @keyframes disconnectedPulse {
            from { opacity: 0.7; }
            to { opacity: 1; }
        }

        @keyframes connectingPulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .logo {
            font-family: 'Orbitron', monospace;
            font-size: 3rem;
            font-weight: 900;
            color: var(--neon-red);
            text-shadow: 
                0 0 10px var(--neon-red),
                0 0 20px var(--neon-red),
                0 0 30px var(--neon-red);
            margin-bottom: 0.5rem;
            animation: logoFlicker 2s ease-in-out infinite alternate;
        }

        @keyframes logoFlicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
            font-weight: 400;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .progress-container {
            margin: 2rem 0;
            position: relative;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .progress-bar-outer {
            height: 8px;
            background: var(--darker-bg);
            border-radius: 4px;
            border: 1px solid var(--neon-red);
            overflow: hidden;
            position: relative;
        }

        .progress-bar-inner {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-red), var(--neon-pink));
            border-radius: 3px;
            width: 0%;
            transition: width 1s ease-out;
            box-shadow: 0 0 10px var(--neon-red-glow);
        }

        .view-selector {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .view-btn {
            font-family: 'JetBrains Mono', monospace;
            padding: 12px 24px;
            border: 2px solid var(--neon-red);
            background: transparent;
            color: var(--neon-red);
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .view-btn.active {
            background: var(--neon-red);
            color: var(--dark-bg);
            box-shadow: 0 0 20px var(--neon-red-glow);
            transform: translateY(-2px);
        }

        .view {
            display: none;
        }

        .view.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--neon-red);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 0.9rem;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .team-option {
            padding: 15px;
            border: 2px solid transparent;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            background: var(--darker-bg);
        }

        .team-option.team-red { border-color: #FF3333; color: #FF3333; }
        .team-option.team-yellow { border-color: #FFD700; color: #FFD700; }
        .team-option.team-purple { border-color: #9966FF; color: #9966FF; }
        .team-option.team-blue { border-color: #3399FF; color: #3399FF; }
        .team-option.team-brown { border-color: #FFB5C0; color: #FFB5C0; }
        .team-option.team-green { border-color: #33CC33; color: #33CC33; }

        .team-option:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 25px rgba(255, 0, 64, 0.3);
        }

        .team-option.selected {
            border-color: currentColor;
            background: rgba(255, 0, 64, 0.1);
            box-shadow: 
                0 0 20px currentColor,
                inset 0 0 20px rgba(255, 0, 64, 0.1);
            transform: translateY(-3px) scale(1.02);
        }

        .current-question {
            background: var(--darker-bg);
            border: 1px solid var(--neon-red);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--text-primary);
            position: relative;
            overflow: hidden;
        }

        .question-number {
            color: var(--neon-red);
            font-weight: 700;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .options-container {
            display: grid;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        .option {
            background: var(--darker-bg);
            border: 2px solid rgba(255, 0, 64, 0.3);
            border-radius: 8px;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'JetBrains Mono', monospace;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            border-color: var(--neon-red);
            background: rgba(255, 0, 64, 0.05);
            transform: translateX(3px);
        }

        .option.selected {
            border-color: var(--neon-red);
            background: rgba(255, 0, 64, 0.15);
            box-shadow: 0 0 15px var(--neon-red-glow);
            color: var(--neon-red);
            font-weight: 600;
        }

        .option-letter {
            display: inline-block;
            width: 24px;
            height: 24px;
            background: var(--neon-red);
            color: var(--dark-bg);
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-weight: 700;
            margin-right: 12px;
            font-size: 0.8rem;
        }

        .submit-btn, .admin-btn {
            font-family: 'Orbitron', monospace;
            background: linear-gradient(45deg, var(--neon-red), var(--neon-pink));
            color: var(--text-primary);
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .admin-btn {
            width: auto;
            margin: 0.5rem 0.5rem 0 0;
            padding: 10px 20px;
            font-size: 0.9rem;
        }

        .admin-btn.danger {
            background: linear-gradient(45deg, #ff4000, #ff0000);
        }

        .admin-btn.info {
            background: linear-gradient(45deg, #0080ff, #0040ff);
        }

        .submit-btn:hover:not(:disabled), .admin-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px var(--neon-red-glow);
        }

        .submit-btn:disabled, .admin-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .success-message {
            background: linear-gradient(45deg, rgba(0, 255, 0, 0.2), rgba(0, 255, 128, 0.2));
            border: 2px solid #00ff80;
            color: #00ff80;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
            margin-top: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            animation: successPulse 0.6s ease;
        }

        @keyframes successPulse {
            0% { transform: scale(0.9); opacity: 0; }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }

        .quiz-screen {
            display: none;
        }

        .quiz-screen.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .team-selection-screen {
            text-align: center;
        }

        .welcome-message {
            color: var(--neon-cyan);
            font-size: 1.2rem;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .final-screen {
            text-align: center;
            padding: 2rem 0;
        }

        .final-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            color: var(--neon-green);
            text-shadow: 0 0 20px var(--neon-green);
            margin-bottom: 1rem;
            animation: finalGlow 2s ease-in-out infinite alternate;
        }

        @keyframes finalGlow {
            from { text-shadow: 0 0 20px var(--neon-green); }
            to { text-shadow: 0 0 30px var(--neon-green), 0 0 40px var(--neon-green); }
        }

        .final-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .team-badge {
            background: linear-gradient(45deg, var(--neon-red), var(--neon-pink));
            color: white;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 2rem;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            box-shadow: 0 0 20px var(--neon-red-glow);
        }

        .completion-stats {
            background: var(--darker-bg);
            border: 2px solid var(--neon-green);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            color: var(--neon-green);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            z-index: 1000;
            animation: slideInRight 0.3s ease;
            max-width: 300px;
        }

        .notification.success {
            background: var(--card-bg);
            border: 2px solid #00ff80;
            color: #00ff80;
        }

        .notification.error {
            background: var(--card-bg);
            border: 2px solid #ff4040;
            color: #ff4040;
        }

        .notification.info {
            background: var(--card-bg);
            border: 2px solid #00ffff;
            color: #00ffff;
        }

        .notification.warning {
            background: var(--card-bg);
            border: 2px solid #ffaa00;
            color: #ffaa00;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .admin-panel input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid rgba(255, 0, 64, 0.5);
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'JetBrains Mono', monospace;
            background: var(--darker-bg);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .admin-panel input:focus {
            outline: none;
            border-color: var(--neon-red);
            box-shadow: 0 0 15px var(--neon-red-glow);
        }

        .password-section {
            text-align: center;
            margin-bottom: 2rem;
        }

        .terminal-text {
            font-family: 'JetBrains Mono', monospace;
            color: var(--neon-red);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .admin-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .admin-stat-card {
            background: var(--darker-bg);
            border: 1px solid var(--neon-red);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .admin-stat-value {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--neon-red);
            text-shadow: 0 0 10px var(--neon-red-glow);
        }

        .admin-stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .admin-responses {
            display: grid;
            gap: 1rem;
        }

        .admin-response-item {
            background: var(--darker-bg);
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid;
            transition: transform 0.3s ease;
        }

        .team-scores-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .team-score-card {
            background: var(--card-bg);
            border: 2px solid;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .team-score-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .team-score-card.team-red { border-color: #FF3333; }
        .team-score-card.team-yellow { border-color: #FFD700; }
        .team-score-card.team-purple { border-color: #9966FF; }
        .team-score-card.team-blue { border-color: #3399FF; }
        .team-score-card.team-brown { border-color: #FFB5C0; }
        .team-score-card.team-green { border-color: #33CC33; }

        .team-score-name {
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 1rem;
            letter-spacing: 0.05em;
        }

        .team-score-name.team-red { color: #FF3333; }
        .team-score-name.team-yellow { color: #FFD700; }
        .team-score-name.team-purple { color: #9966FF; }
        .team-score-name.team-blue { color: #3399FF; }
        .team-score-name.team-brown { color: #FFB5C0; }
        .team-score-name.team-green { color: #33CC33; }

        .team-score-value {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--neon-green);
            text-shadow: 0 0 10px var(--neon-green);
            margin-bottom: 0.5rem;
        }

        .team-score-total {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .team-score-progress {
            margin-top: 1rem;
            height: 6px;
            background: var(--darker-bg);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .team-score-progress-bar {
            height: 100%;
            border-radius: 3px;
            transition: width 0.8s ease;
            position: relative;
        }

        .team-score-progress-bar.team-red { background: linear-gradient(90deg, #FF3333, #FF6666); }
        .team-score-progress-bar.team-yellow { background: linear-gradient(90deg, #FFD700, #FFFF80); }
        .team-score-progress-bar.team-purple { background: linear-gradient(90deg, #9966FF, #CC99FF); }
        .team-score-progress-bar.team-blue { background: linear-gradient(90deg, #3399FF, #66CCFF); }
        .team-score-progress-bar.team-brown { background: linear-gradient(90deg, #FFB5C0, #DDAA55); }
        .team-score-progress-bar.team-green { background: linear-gradient(90deg, #33CC33, #66FF66); }

        @media (max-width: 768px) {
            .container {
                margin: 1rem;
                padding: 1.5rem;
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .team-grid {
                grid-template-columns: 1fr;
            }
            
            .view-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .final-title {
                font-size: 2rem;
            }

            .admin-stats-grid {
                grid-template-columns: 1fr;
            }

            .team-scores-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="connection-indicator" id="connection-indicator"></div>

    <div class="container">
        <div class="header">
            <div class="logo">QUIZ FATEC</div>
            <div class="subtitle">Sistema Multiplayer - Tempo Real</div>
            <div class="terminal-text" id="terminal-status">> Sistema inicializando...</div>
        </div>

        <div class="progress-container">
            <div class="progress-label">
                <span>PROGRESSO</span>
                <span id="progress-text">0 / 10 QUEST√ïES</span>
            </div>
            <div class="progress-bar-outer">
                <div class="progress-bar-inner" id="progress-bar"></div>
            </div>
        </div>

        <div class="view-selector">
            <button class="view-btn active" data-view="student">√ÅREA ESTUDANTE</button>
            <button class="view-btn" data-view="admin">√ÅREA ADMIN</button>
        </div>

        <!-- √Årea do Estudante -->
        <div id="student-view" class="view active">
            <!-- Tela de Sele√ß√£o de Equipe -->
            <div id="team-selection" class="quiz-screen team-selection-screen active">
                <div class="welcome-message">
                    <div style="font-size: 1.5rem; color: var(--neon-red); margin-bottom: 1rem;">
                        üöÄ BEM-VINDO AO QUIZ FATEC!
                    </div>
                    <div>
                        Prepare-se para uma jornada de 10 quest√µes sobre a FATEC.<br>
                        Selecione sua equipe para come√ßar!
                    </div>
                </div>

                <div class="form-group">
                    <label for="team">SELECIONE SUA EQUIPE:</label>
                    <div class="team-grid">
                        <div class="team-option team-red" data-team="Equipe Vermelha" data-id="team-red">üî¥ EQUIPE VERMELHA</div>
                        <div class="team-option team-yellow" data-team="Equipe Amarela" data-id="team-yellow">üü° EQUIPE AMARELA</div>
                        <div class="team-option team-purple" data-team="Equipe Roxa" data-id="team-purple">üü£ EQUIPE ROXA</div>
                        <div class="team-option team-blue" data-team="Equipe Azul" data-id="team-blue">üîµ EQUIPE AZUL</div>
                        <div class="team-option team-brown" data-team="Equipe Marrom" data-id="team-brown">‚ö™ EQUIPE ROSA</div>
                        <div class="team-option team-green" data-team="Equipe Verde" data-id="team-green">üü¢ EQUIPE VERDE</div>
                    </div>
                </div>

                <button type="button" class="submit-btn" id="start-quiz-btn" disabled>
                    üéØ INICIAR QUIZ
                </button>
            </div>

            <!-- Tela do Quiz -->
            <div id="quiz-gameplay" class="quiz-screen">
                <form id="student-form">
                    <div class="form-group">
                        <div id="current-question-display" class="current-question">
                            <div class="question-number" id="question-number">QUEST√ÉO 1 DE 10</div>
                            <div id="question-text">Aguardando conex√£o com o servidor...</div>
                            <div class="options-container" id="options-container">
                                <!-- Options will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="submit-btn" id="submit-btn">ENVIAR RESPOSTA</button>
                </form>

                <div id="success-message" style="display: none;" class="success-message">
                    ‚úÖ RESPOSTA REGISTRADA!
                </div>
            </div>

            <!-- Tela Final -->
            <div id="final-screen" class="quiz-screen final-screen">
                <div class="final-title">üèÜ QUIZ COMPLETO!</div>
                
                <div class="final-message">
                    Parab√©ns! Voc√™ concluiu todas as 10 quest√µes do Quiz FATEC!<br>
                    Suas respostas foram registradas no sistema.
                </div>

                <div class="team-badge" id="final-team-name">
                    EQUIPE VERMELHA
                </div>

                <div class="completion-stats">
                    <div style="font-size: 1.5rem; margin-bottom: 1rem;">
                        üìä QUIZ FINALIZADO
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem;">
                        <div>
                            <div style="font-size: 2rem; font-weight: bold;">10/10</div>
                            <div style="font-size: 0.9rem;">Quest√µes Completadas</div>
                        </div>
                        <div>
                            <div style="font-size: 2rem; font-weight: bold;" id="final-timestamp">--:--</div>
                            <div style="font-size: 0.9rem;">Finalizado em</div>
                        </div>
                    </div>
                </div>

                <button type="button" class="submit-btn" id="new-quiz-btn" style="margin-top: 2rem; background: linear-gradient(45deg, var(--neon-cyan), #0080ff);">
                    üîÑ NOVO QUIZ
                </button>
            </div>
        </div>

        <!-- √Årea do Administrador -->
        <div id="admin-view" class="view">
            <div class="admin-panel">
                <div class="password-section" id="admin-login">
                    <div class="terminal-text">> Acesso restrito. Credenciais necess√°rias.</div>
                    <div class="form-group">
                        <label for="admin-password">SENHA DE ACESSO:</label>
                        <input type="password" id="admin-password" placeholder="Digite a senha de admin">
                        <button type="button" class="admin-btn" id="admin-login-btn">ACESSAR SISTEMA</button>
                    </div>
                </div>

                <div id="admin-content" style="display: none;">
                    <div style="background: var(--darker-bg); border: 1px solid var(--neon-red); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem;">
                        <h3 style="margin-bottom: 1rem; color: var(--neon-red); text-transform: uppercase;">CONTROLE DE QUIZ</h3>
                        <div style="margin-bottom: 1rem;">
                            <button type="button" class="admin-btn danger" id="admin-reset-btn">REINICIAR QUIZ</button>
                            <button type="button" class="admin-btn info" id="admin-refresh-btn">ATUALIZAR DADOS</button>
                        </div>
                    </div>

                    <div class="admin-stats-grid">
                        <div class="admin-stat-card">
                            <div class="admin-stat-value" id="admin-total-responses">0</div>
                            <div class="admin-stat-label">Respostas Totais</div>
                        </div>
                        <div class="admin-stat-card">
                            <div class="admin-stat-value" id="admin-unique-teams">0</div>
                            <div class="admin-stat-label">Equipes Participantes</div>
                        </div>
                        <div class="admin-stat-card">
                            <div class="admin-stat-value" id="admin-quiz-progress">0%</div>
                            <div class="admin-stat-label">Taxa de Conclus√£o</div>
                        </div>
                    </div>

                    <!-- Se√ß√£o de Pontua√ß√£o por Equipe -->
                    <div style="background: var(--darker-bg); border: 1px solid var(--neon-green); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem;">
                        <h3 style="margin-bottom: 1rem; color: var(--neon-green); text-transform: uppercase;">üèÜ PONTUA√á√ÉO POR EQUIPE</h3>
                        <div id="team-scores-container" class="team-scores-grid">
                            <div style="text-align: center; color: var(--text-muted); padding: 1rem; font-family: 'JetBrains Mono', monospace;">
                                > Aguardando participa√ß√£o das equipes...
                            </div>
                        </div>
                    </div>

                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 style="color: var(--neon-red); text-transform: uppercase;">RESULTADOS EM TEMPO REAL</h3>
                        <div style="color: var(--neon-green); font-size: 0.9rem;" id="admin-last-update">
                            üü¢ Dados sincronizados
                        </div>
                    </div>
                    
                    <div id="admin-responses-container" class="admin-responses">
                        <div style="text-align: center; color: var(--text-muted); padding: 2rem; font-family: 'JetBrains Mono', monospace;">
                            > Sistema aguardando participantes...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Socket.io CDN -->
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    
    <script>
        // Base de dados das perguntas sobre FATEC
        const questions = [
            {
                question: "Qual √© o principal produto do minhoc√°rio que enriquece as plantas da FATEC?",
                options: [
                    "√Ågua purificada",
                    "Adubo qu√≠mico", 
                    "H√∫mus de minhoca",
                    "Sementes"
                ],
                correct: "C"
            },
            {
                question: "Qual √© a principal diferen√ßa entre os laborat√≥rios externos (6 e 7) e os internos (1 a 5)?",
                options: [
                    "Os externos s√£o para aulas de inform√°tica e programa√ß√£o",
                    "Nos internos √© permitido comer, mas nos externos n√£o",
                    "Os internos t√™m apenas desktops, e os externos apenas notebooks",
                    "Os externos n√£o permitem notebooks pessoais"
                ],
                correct: "A"
            },
            {
                question: "A biblioteca da FATEC atende qual p√∫blico e qual √© um de seus objetivos?",
                options: [
                    "S√≥ alunos, para guardar livros",
                    "Apenas professores e funcion√°rios, para reuni√µes",
                    "Exclusivamente a professores, para pesquisa",
                    "Alunos e a comunidade externa, para incentivar a leitura e cultura"
                ],
                correct: "D"
            },
            {
                question: "Qual √© uma responsabilidade dos coordenadores Rodrigo e Elaine?",
                options: [
                    "Ajudar alunos com rematr√≠cula",
                    "Serem respons√°veis pelo projeto pedag√≥gico dos cursos",
                    "Supervisionar a secretaria",
                    "Organizar os hor√°rios de treino da atl√©tica"
                ],
                correct: "B"
            },
            {
                question: "Como se faz para usar o Lab Maker e o est√∫dio de podcast?",
                options: [
                    "O agendamento √© feito com o professor da disciplina",
                    "Precisa da autoriza√ß√£o do professor Daniel",
                    "Apenas para projetos de tecnologia",
                    "√â preciso ser do curso de ADS"
                ],
                correct: "A"
            },
            {
                question: "Qual √© a forma correta de solicitar a carteirinha de estudante da FATEC?",
                options: [
                    "Pessoalmente, na secretaria",
                    "Com o professor da disciplina",
                    "Por e-mail para f157.secretaria@fatec.sp.gov.br",
                    "No site da ARINTER"
                ],
                correct: "C"
            },
            {
                question: "Qual a rela√ß√£o da horta com o curso de Produ√ß√£o Agropecu√°ria?",
                options: [
                    "√â um local para lazer dos alunos",
                    "√â onde disciplinas como 'Fertilidade do solo' desenvolvem projetos",
                    "√â supervisionada pela ex-aluna Priscila Cislei",
                    "A renda da venda dos produtos vai para a Atl√©tica"
                ],
                correct: "B"
            },
            {
                question: "Quais esportes, per√≠odo de treino e mascote da Atl√©tica s√£o mencionados no texto?",
                options: [
                    "Basquete, √† noite, e o mascote √© o Le√£o",
                    "Futebol e basquete, de dia, e o mascote √© o Grilo",
                    "V√¥lei e futsal, de dia, e o mascote √© o Professor",
                    "Futsal e v√¥lei, √† noite, e o mascote √© o Zang√£o"
                ],
                correct: "D"
            },
            {
                question: "O que n√£o √© permitido fazer na biblioteca da FATEC?",
                options: [
                    "Entrar com mochilas",
                    "Conversar com colegas sobre o estudo",
                    "Utilizar os arm√°rios pr√≥ximos para guardar pertences",
                    "Pegar livros emprestados"
                ],
                correct: "A"
            },
            {
                question: "Qual √© o objetivo principal da casa de garrafa pet, e quem a idealizou?",
                options: [
                    "Criar um espa√ßo para reuni√µes de professores, idealizado pela professora Elaine",
                    "Construir uma estrutura sustent√°vel com garrafas pet, idealizada pela ex-aluna Priscila Cislei",
                    "Usar garrafas pet para o plantio de hortali√ßas, idealizado pela aluna da Atl√©tica",
                    "Projetar um novo laborat√≥rio para o curso de agroneg√≥cio, idealizado pelo professor Rodrigo"
                ],
                correct: "B"
            }
        ];
        
        // Vari√°veis do sistema
        let socket = null;  
        let currentQuestionIndex = 0;
        let selectedTeam = "";
        let selectedTeamId = "";
        let selectedAnswer = "";
        let quizStartTime = null;
        let currentScreen = "team-selection";
        let isConnected = false;
        let isAdmin = false;
        let responses = [];
        let connectionRetryCount = 0;
        const maxRetries = 5;

        // Inicializa√ß√£o do sistema
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Iniciando Quiz FATEC...');
            initializeSocketConnection();
            setupEventListeners();
            updateProgressBar();
        });

        function initializeSocketConnection() {
            updateConnectionStatus('connecting');
            updateTerminalStatus('Conectando ao servidor...');
            
            try {
                // Conectar com Socket.io
                socket = io(window.location.origin, {
                    transports: ['websocket', 'polling'],
                    timeout: 10000,
                    reconnection: true,
                    reconnectionAttempts: maxRetries,
                    reconnectionDelay: 1000,
                    forceNew: true
                });

                socket.on('connect', handleSocketConnect);
                socket.on('disconnect', handleSocketDisconnect);
                socket.on('connect_error', handleSocketError);
                socket.on('reconnect', handleSocketReconnect);
                socket.on('quiz-status', handleQuizStatus);
                socket.on('answer-received', handleAnswerReceived);
                socket.on('quiz-completed', handleQuizCompleted);
                socket.on('admin-authenticated', handleAdminAuthenticated);
                socket.on('admin-error', handleAdminError);
                socket.on('admin-update', handleAdminUpdate);
                socket.on('quiz-reset', handleQuizReset);

            } catch (error) {
                console.error('‚ùå Erro ao inicializar socket:', error);
                handleConnectionFallback();
            }
        }

        function handleSocketConnect() {
            console.log('‚úÖ Conectado ao servidor:', socket.id);
            isConnected = true;
            connectionRetryCount = 0;
            updateConnectionStatus('connected');
            updateTerminalStatus(`Conectado - ID: ${socket.id.substring(0, 8)}...`);
            showNotification('üü¢ CONECTADO AO SERVIDOR!', 'success');
        }

        function handleSocketDisconnect(reason) {
            console.log('üî¥ Desconectado:', reason);
            isConnected = false;
            updateConnectionStatus('disconnected');
            updateTerminalStatus('Desconectado - Tentando reconectar...');
            showNotification('üî¥ CONEX√ÉO PERDIDA!', 'error');
        }

        function handleSocketError(error) {
            console.error('‚ùå Erro de conex√£o:', error);
            connectionRetryCount++;
            
            if (connectionRetryCount >= maxRetries) {
                updateTerminalStatus('Falha na conex√£o - Modo offline ativado');
                showNotification('‚ö†Ô∏è MODO OFFLINE ATIVO', 'warning');
                handleConnectionFallback();
            } else {
                updateTerminalStatus(`Erro de conex√£o - Tentativa ${connectionRetryCount}/${maxRetries}`);
            }
        }

        function handleSocketReconnect() {
            console.log('üîÑ Reconectado ao servidor');
            showNotification('üü¢ RECONECTADO!', 'success');
        }

        function handleConnectionFallback() {
            // Fallback para modo offline/simulado
            setTimeout(() => {
                isConnected = true; // Simula conex√£o para demo
                updateConnectionStatus('connected');
                updateTerminalStatus('Modo demonstra√ß√£o ativo');
                showNotification('‚ö†Ô∏è DEMO MODE - Funcionalidade limitada', 'warning');
            }, 2000);
        }

        function handleQuizStatus(data) {
            console.log('üìä Status do quiz recebido:', data);
            updateProgressFromServer(data);
        }

        function handleAnswerReceived(data) {
            console.log('‚úÖ Confirma√ß√£o de resposta:', data);
            if (data.success) {
                showNotification(data.message, 'success');
            } else {
                showNotification(data.message, 'error');
            }
        }

        function handleQuizCompleted(data) {
            console.log('üèÜ Quiz completo:', data);
            // Atualizar estat√≠sticas finais se necess√°rio
        }

        function handleAdminAuthenticated(data) {
            console.log('üëë Admin autenticado:', data);
            isAdmin = true;
            
            document.getElementById('admin-login').style.display = 'none';
            document.getElementById('admin-content').style.display = 'block';
            
            if (data.responses) {
                responses = data.responses;
            }
            
            updateAdminData();
            showNotification('‚úÖ ACESSO ADMIN LIBERADO!', 'success');
            updateTerminalStatus('Admin conectado - Dados em tempo real');
        }

        function handleAdminError(message) {
            console.log('‚ùå Erro admin:', message);
            showNotification('‚ùå ' + message.toUpperCase(), 'error');
            document.getElementById('admin-password').value = '';
            document.getElementById('admin-password').focus();
        }

        function handleAdminUpdate(data) {
            console.log('üîÑ Atualiza√ß√£o admin:', data);
            if (isAdmin && data.responses) {
                responses = data.responses;
                updateAdminData();
            }
        }

        function handleQuizReset() {
            console.log('üîÑ Quiz resetado pelo servidor');
            resetToStart();
            showNotification('üîÑ QUIZ RESETADO!', 'info');
        }

        function updateProgressFromServer(data) {
            if (data.totalQuestions) {
                const serverProgress = Math.min((data.totalResponses || 0) / (6 * data.totalQuestions) * 100, 100);
                // Atualizar apenas se necess√°rio
            }
        }

        function updateConnectionStatus(status = null) {
            const statusEl = document.getElementById('connection-indicator');
            if (status) {
                statusEl.className = `connection-indicator ${status}`;
            } else if (isConnected) {
                statusEl.className = 'connection-indicator connected';
            } else {
                statusEl.className = 'connection-indicator disconnected';
            }
        }

        function setupEventListeners() {
            // View selector
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    showView(e.target.dataset.view);
                });
            });

            // Team selection
            document.querySelectorAll('.team-option').forEach(option => {
                option.addEventListener('click', () => handleTeamSelection(option));
            });

            // Quiz controls
            document.getElementById('start-quiz-btn').addEventListener('click', startQuiz);
            document.getElementById('student-form').addEventListener('submit', handleFormSubmit);
            document.getElementById('new-quiz-btn').addEventListener('click', resetToStart);

            // Admin controls
            document.getElementById('admin-login-btn').addEventListener('click', adminLogin);
            document.getElementById('admin-reset-btn').addEventListener('click', adminResetQuiz);
            document.getElementById('admin-refresh-btn').addEventListener('click', refreshAdminData);

            // Password field enter key
            document.getElementById('admin-password').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    adminLogin();
                }
            });

            // Option selection (delegated)
            document.addEventListener('click', (e) => {
                if (e.target.closest('.option') && currentScreen === "quiz-gameplay") {
                    handleAnswerSelection(e.target.closest('.option'));
                }
            });
        }

        function updateTerminalStatus(message) {
            const terminalEl = document.getElementById('terminal-status');
            if (terminalEl) {
                terminalEl.textContent = `> ${message}`;
            }
        }

        function handleTeamSelection(option) {
            document.querySelectorAll('.team-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            option.classList.add('selected');
            selectedTeam = option.dataset.team;
            selectedTeamId = option.dataset.id;
            
            document.getElementById('start-quiz-btn').disabled = false;
            
            console.log(`Equipe selecionada: ${selectedTeam}`);
            showNotification('‚úÖ EQUIPE SELECIONADA!', 'success');
        }

        function handleAnswerSelection(option) {
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            option.classList.add('selected');
            selectedAnswer = option.dataset.value;
            
            console.log(`Resposta selecionada: ${selectedAnswer}`);
        }

        function startQuiz() {
            if (!selectedTeam) {
                showNotification('‚ö†Ô∏è SELECIONE UMA EQUIPE PRIMEIRO!', 'error');
                return;
            }
            
            console.log(`üéØ Iniciando quiz para ${selectedTeam}`);
            
            quizStartTime = new Date();
            currentScreen = "quiz-gameplay";
            
            document.getElementById('team-selection').classList.remove('active');
            document.getElementById('quiz-gameplay').classList.add('active');
            
            currentQuestionIndex = 0;
            updateQuestionDisplay();
            
            updateTerminalStatus(`Quiz iniciado para ${selectedTeam}`);
            showNotification('üöÄ QUIZ INICIADO! BOA SORTE!', 'info');
        }

        function handleFormSubmit(e) {
            e.preventDefault();
            
            if (!selectedAnswer) {
                showNotification('‚ö†Ô∏è SELECIONE UMA RESPOSTA!', 'error');
                return;
            }

            const currentQuestion = questions[currentQuestionIndex];
            const isCorrect = selectedAnswer === currentQuestion.correct;
            
            const responseData = {
                team: selectedTeam,
                teamId: selectedTeamId,
                question: currentQuestion.question,
                questionIndex: currentQuestionIndex,
                answer: selectedAnswer,
                correctAnswer: currentQuestion.correct,
                isCorrect: isCorrect,
                timestamp: new Date().toLocaleTimeString('pt-BR')
            };

            // Desabilitar bot√£o temporariamente
            const submitBtn = document.getElementById('submit-btn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'ENVIANDO...';

            // Enviar para servidor via Socket.io (se conectado)
            if (isConnected && socket) {
                socket.emit('submit-answer', responseData);
            } else {
                // Fallback: simular confirma√ß√£o
                setTimeout(() => {
                    showNotification('‚úÖ RESPOSTA REGISTRADA (OFFLINE)!', 'success');
                }, 500);
            }
            
            // Salvar localmente (backup)
            responses.push(responseData);
            console.log(`üìù Resposta salva: ${selectedAnswer} para quest√£o ${currentQuestionIndex + 1} (${isCorrect ? 'Correta' : 'Incorreta'})`);
            
            showSuccessMessage();
            
            setTimeout(() => {
                if (currentQuestionIndex < questions.length - 1) {
                    currentQuestionIndex++;
                    updateQuestionDisplay();
                    resetQuestionSelection();
                } else {
                    finishQuiz();
                }
            }, 1500);
        }

        function finishQuiz() {
            console.log('üèÅ Finalizando quiz');
            
            // Enviar evento de finaliza√ß√£o se conectado
            if (isConnected && socket) {
                socket.emit('finish-quiz', { team: selectedTeam });
            }
            
            currentScreen = "final-screen";
            
            document.getElementById('progress-bar').style.width = '100%';
            document.getElementById('progress-text').textContent = `${questions.length} / ${questions.length} QUEST√ïES`;
            
            document.getElementById('quiz-gameplay').classList.remove('active');
            document.getElementById('final-screen').classList.add('active');
            
            document.getElementById('final-team-name').textContent = selectedTeam;
            document.getElementById('final-timestamp').textContent = new Date().toLocaleTimeString('pt-BR', {
                hour: '2-digit',
                minute: '2-digit'
            });
            
            updateTerminalStatus('Quiz finalizado!');
            showNotification('üéâ PARAB√âNS! QUIZ FINALIZADO!', 'success');
        }

        function resetToStart() {
            console.log('üîÑ Resetando para o in√≠cio');
            
            currentQuestionIndex = 0;
            selectedAnswer = "";
            selectedTeam = "";
            selectedTeamId = "";
            quizStartTime = null;
            currentScreen = "team-selection";
            
            document.querySelectorAll('.team-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            document.querySelectorAll('.quiz-screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            document.getElementById('team-selection').classList.add('active');
            document.getElementById('start-quiz-btn').disabled = true;
            
            updateProgressBar();
            updateTerminalStatus('Sistema reiniciado...');
            
            showNotification('üîÑ SISTEMA REINICIADO!', 'info');
        }

        function resetQuestionSelection() {
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            selectedAnswer = "";
            
            const submitBtn = document.getElementById('submit-btn');
            submitBtn.disabled = false;
            submitBtn.textContent = 'ENVIAR RESPOSTA';
        }

        function showNotification(message, type = 'info') {
            // Remove notifica√ß√µes existentes
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(n => n.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 4000);
        }

        function showSuccessMessage() {
            const successMsg = document.getElementById('success-message');
            successMsg.style.display = 'block';
            
            setTimeout(() => {
                successMsg.style.display = 'none';
            }, 1500);
        }

        function updateQuestionDisplay() {
            const currentQuestion = questions[currentQuestionIndex];
            const questionNumber = currentQuestionIndex + 1;
            
            console.log(`‚ùì Exibindo quest√£o ${questionNumber}: ${currentQuestion.question.substring(0, 50)}...`);
            
            document.getElementById('question-number').textContent = `QUEST√ÉO ${questionNumber} DE ${questions.length}`;
            document.getElementById('question-text').textContent = currentQuestion.question;
            
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            currentQuestion.options.forEach((option, index) => {
                const letter = String.fromCharCode(65 + index);
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.dataset.value = letter;
                optionDiv.innerHTML = `
                    <span class="option-letter">${letter}</span>
                    ${option}
                `;
                optionsContainer.appendChild(optionDiv);
            });

            updateProgressBar();
        }

        function updateProgressBar() {
            const progress = (currentQuestionIndex / questions.length) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
            document.getElementById('progress-text').textContent = `${currentQuestionIndex} / ${questions.length} QUEST√ïES`;
        }

        function showView(viewName) {
            document.querySelectorAll('.view').forEach(view => {
                view.classList.remove('active');
            });
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(viewName + '-view').classList.add('active');
            document.querySelector(`[data-view="${viewName}"]`).classList.add('active');
        }

        // Fun√ß√µes do Admin
        function adminLogin() {
            const password = document.getElementById('admin-password').value.trim();
            
            if (!password) {
                showNotification('‚ö†Ô∏è DIGITE A SENHA!', 'error');
                return;
            }

            console.log('üëë Tentando login admin...');
            
            // Enviar via Socket.io se conectado
            if (isConnected && socket) {
                socket.emit('admin-login', { password: password });
            } else {
                // Fallback: valida√ß√£o local
                if (password === 'fatec2024') {
                    handleAdminAuthenticated({ responses: responses });
                } else {
                    handleAdminError('Senha incorreta');
                }
            }
        }

        function updateAdminData() {
            console.log('üìä Atualizando dados do admin, respostas:', responses.length);
            
            const stats = {
                totalResponses: responses.length,
                uniqueTeams: [...new Set(responses.map(r => r.team))].length,
                progressPercentage: responses.length > 0 ? 
                    Math.min(Math.round((responses.length / (6 * questions.length)) * 100), 100) : 0
            };
            
            document.getElementById('admin-total-responses').textContent = stats.totalResponses;
            document.getElementById('admin-unique-teams').textContent = stats.uniqueTeams;
            document.getElementById('admin-quiz-progress').textContent = `${stats.progressPercentage}%`;
            
            updateAdminResponses(responses);
            updateTeamScores(responses);
            
            document.getElementById('admin-last-update').textContent = 'üü¢ Atualizado: ' + new Date().toLocaleTimeString('pt-BR');
        }

        function updateTeamScores(responses) {
            const container = document.getElementById('team-scores-container');
            
            if (!responses || responses.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; color: var(--text-muted); padding: 1rem; font-family: 'JetBrains Mono', monospace; grid-column: 1 / -1;">
                        > Aguardando participa√ß√£o das equipes...
                    </div>
                `;
                return;
            }

            // Calcular pontua√ß√µes por equipe
            const teamScores = {};

            responses.forEach(response => {
                const teamId = response.teamId;
                const teamName = response.team;
                
                if (!teamScores[teamId]) {
                    teamScores[teamId] = {
                        name: teamName,
                        correct: 0,
                        total: 0
                    };
                }
                
                teamScores[teamId].total++;
                if (response.isCorrect) {
                    teamScores[teamId].correct++;
                }
            });

            // Criar cards de pontua√ß√£o
            const scoreCards = Object.keys(teamScores)
                .sort((a, b) => teamScores[b].correct - teamScores[a].correct)
                .map(teamId => {
                    const score = teamScores[teamId];
                    const percentage = score.total > 0 ? (score.correct / score.total * 100) : 0;
                    const progressWidth = score.total > 0 ? (score.correct / 10 * 100) : 0;
                    
                    return `
                        <div class="team-score-card ${teamId}">
                            <div class="team-score-name ${teamId}">${score.name}</div>
                            <div class="team-score-value">${score.correct}</div>
                            <div class="team-score-total">de ${Math.min(score.total, 10)} quest√µes</div>
                            <div class="team-score-progress">
                                <div class="team-score-progress-bar ${teamId}" style="width: ${Math.min(progressWidth, 100)}%;"></div>
                            </div>
                            <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-muted);">
                                ${Math.round(percentage)}% de aproveitamento
                            </div>
                        </div>
                    `;
                }).join('');

            container.innerHTML = scoreCards;
        }

        function updateAdminResponses(responses) {
            const container = document.getElementById('admin-responses-container');
            
            if (!responses || responses.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; color: var(--text-muted); padding: 2rem; font-family: 'JetBrains Mono', monospace;">
                        > Sistema aguardando participantes...
                    </div>
                `;
                return;
            }

            // Mostrar as √∫ltimas 10 respostas
            const recentResponses = responses.slice(-10).reverse();

            container.innerHTML = recentResponses.map(response => {
                const teamClass = response.teamId;
                const correctIcon = response.isCorrect ? '‚úÖ' : '‚ùå';
                const statusColor = response.isCorrect ? '#00ff80' : '#ff4040';
                
                return `
                    <div class="admin-response-item" style="border-left-color: ${getTeamColor(teamClass)};">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <span style="font-weight: bold; font-size: 1.1rem; color: var(--neon-red); text-transform: uppercase;">${response.team}</span>
                            <span style="color: var(--text-muted); font-size: 0.8rem;">${response.timestamp}</span>
                        </div>
                        <div style="margin-bottom: 0.5rem;">
                            <strong>Quest√£o ${response.questionIndex + 1}:</strong> ${response.question.substring(0, 80)}${response.question.length > 80 ? '...' : ''}
                        </div>
                        <div style="margin-bottom: 0.5rem;">
                            <strong>Resposta:</strong> <span style="color: ${statusColor};">${response.answer} ${correctIcon}</span>
                        </div>
                        <div style="font-size: 0.8rem; color: var(--text-muted);">
                            Resposta correta: ${response.correctAnswer}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function getTeamColor(teamId) {
            const colors = {
                'team-red': '#FF3333',
                'team-yellow': '#FFD700',
                'team-purple': '#9966FF',
                'team-blue': '#3399FF',
                'team-brown': '#FFB5C0',
                'team-green': '#33CC33'
            };
            return colors[teamId] || '#FF3333';
        }

        function adminResetQuiz() {
            if (confirm('Tem certeza que deseja reiniciar o quiz? Todos os dados ser√£o perdidos!')) {
                console.log('üîÑ Admin resetando quiz');
                
                // Enviar reset via Socket.io se conectado
                if (isConnected && socket) {
                    socket.emit('admin-reset', { password: 'fatec2024' });
                } else {
                    // Reset local
                    responses = [];
                    resetToStart();
                    updateAdminData();
                }
                
                showNotification('üîÑ QUIZ REINICIADO PELO ADMIN!', 'info');
                updateTerminalStatus('Quiz resetado pelo administrador');
            }
        }

        function refreshAdminData() {
            console.log('üîÑ Atualizando dados admin');
            
            // Solicitar refresh via Socket.io se conectado
            if (isConnected && socket) {
                socket.emit('admin-refresh', { password: 'fatec2024' });
            }
            
            updateAdminData();
            showNotification('üîÑ DADOS ATUALIZADOS!', 'info');
        }

        // Tratamento de erros globais
        window.addEventListener('error', (e) => {
            console.error('‚ùå Erro capturado:', e);
            updateTerminalStatus('Erro detectado no sistema');
        });

        window.addEventListener('unhandledrejection', (e) => {
            console.error('‚ùå Promise rejeitada:', e.reason);
        });

        // Verifica√ß√£o peri√≥dica de conex√£o
        setInterval(() => {
            if (socket && !socket.connected && isConnected) {
                isConnected = false;
                updateConnectionStatus('disconnected');
                updateTerminalStatus('Conex√£o perdida - Tentando reconectar...');
            }
        }, 5000);

        // Log de in√≠cio
        console.log('üéØ Quiz FATEC inicializado');
        console.log('üåê URL:', window.location.origin);
        console.log('üë• Suporte multi-device ativo');
    </script>
</body>
</html>
